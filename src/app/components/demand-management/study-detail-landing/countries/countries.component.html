<div class="row">
  <div class="col card below-card" style="margin-left: 10px;">
    <div class="accordion-header" id="headingThree">
      <div>
        <h6><b>Countries</b></h6>
      </div>
    </div>

    <p-table [value]="countries" dataKey="Country" [rowHover]="true" [rows]="10" [showCurrentPageReport]="true"
             [rowsPerPageOptions]="[10, 20, 30]" [paginator]="false"
             currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
             [filterDelay]="0"
             styleClass="p-datatable-gridlines p-datatable-striped p-datatable-sm">

      <ng-template pTemplate="header">
        <tr>
          <th>Actions</th>
          <th>Country</th>
          <th>Sites</th>
          <th># Kit Component Supplied</th>
          <th># Kit Component Pending</th>
          <th>Date KOS</th>
          <th>FPFV</th>
          <th>Progress</th>
        </tr>
      </ng-template>

      <ng-template pTemplate="body" let-country let-ri="rowIndex">
        <tr [pEditableRow]="country" style="height: 27px;">
          <td>
            <span class="ml-2" *ngIf="!country.editing">
              <i class="bi bi-pencil" (click)="onEditRow(country)"></i>
            </span>
            <div *ngIf="country.editing" class="d-flex align-items-center">
              <button 
                pButton 
                pRipple 
                type="button" 
                pSaveEditableRow 
                icon="pi pi-check" 
                (click)="onSaveRow(country)" 
                class="p-button-rounded p-button-text p-button-success mr-0">
              </button>
              <button 
                pButton 
                pRipple 
                type="button" 
                pCancelEditableRow 
                icon="pi pi-times" 
                (click)="onCancelRow(country, ri)" 
                class="p-button-rounded p-button-text p-button-danger">
              </button> 
            </div>
          </td>
          <td [pEditableColumn]="country.Country" pEditableColumnField="Country" [style.pointer-events]="country.editing ? 'auto' : 'none'">
            <p-cellEditor>
              <ng-template pTemplate="input">
                <input pInputText type="text" [(ngModel)]="country.Country" />
              </ng-template>
              <ng-template pTemplate="output">
                {{ country.Country }}
              </ng-template>
            </p-cellEditor>
          </td>
          <td [pEditableColumn]="country.Sites" pEditableColumnField="Sites" [style.pointer-events]="country.editing ? 'auto' : 'none'">
            <p-cellEditor>
              <ng-template pTemplate="input">
                <input pInputText type="text" [(ngModel)]="country.Sites" />
              </ng-template>
              <ng-template pTemplate="output">
                {{ country.Sites }}
              </ng-template>
            </p-cellEditor>
          </td>
          <td [pEditableColumn]="country['#KitComponentSupplied']" pEditableColumnField="#KitComponentSupplied" [style.pointer-events]="country.editing ? 'auto' : 'none'">
            <p-cellEditor>
              <ng-template pTemplate="input">
                <input pInputText type="text" [(ngModel)]="country['#KitComponentSupplied']" />
              </ng-template>
              <ng-template pTemplate="output">
                {{ country['#KitComponentSupplied'] }}
              </ng-template>
            </p-cellEditor>
          </td>
          <td [pEditableColumn]="country['#KitComponentPending']" pEditableColumnField="#KitComponentPending" [style.pointer-events]="country.editing ? 'auto' : 'none'">
            <p-cellEditor>
              <ng-template pTemplate="input">
                <input pInputText type="text" [(ngModel)]="country['#KitComponentPending']" />
              </ng-template>
              <ng-template pTemplate="output">
                {{ country['#KitComponentPending'] }}
              </ng-template>
            </p-cellEditor>
          </td>
          <td [pEditableColumn]="country.DateKOS" pEditableColumnField="DateKOS" [style.pointer-events]="country.editing ? 'auto' : 'none'">
            <p-cellEditor>
              <ng-template pTemplate="input">
                <input pInputText type="text" [(ngModel)]="country.DateKOS" />
              </ng-template>
              <ng-template pTemplate="output">
                {{ country.DateKOS }}
              </ng-template>
            </p-cellEditor>
          </td>
          <td [pEditableColumn]="country.FPFV" pEditableColumnField="FPFV" [style.pointer-events]="country.editing ? 'auto' : 'none'">
            <p-cellEditor>
              <ng-template pTemplate="input">
                <input pInputText type="text" [(ngModel)]="country.FPFV" />
              </ng-template>
              <ng-template pTemplate="output">
                {{ country.FPFV }}
              </ng-template>
            </p-cellEditor>
          </td>
          <td [pEditableColumn]="country.Progress" pEditableColumnField="Progress" [style.pointer-events]="country.editing ? 'auto' : 'none'">
            <p-cellEditor>
              <ng-template pTemplate="input">
                <input pInputText type="text" [(ngModel)]="country.Progress" />
              </ng-template>
              <ng-template pTemplate="output">
                {{ country.Progress }}
              </ng-template>
            </p-cellEditor>
          </td>
        </tr>
      </ng-template>

      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="8">No Data found.</td>
        </tr>
      </ng-template>

    </p-table>
  </div>
</div>
